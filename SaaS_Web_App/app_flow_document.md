# App Flow Document for tovector.ai

## Onboarding and Sign-In/Sign-Up
When a brand-new user visits tovector.ai, they first land on a clean and minimalistic landing page with a clear display of the 'tovector.ai' logo and navigation links at the top. The header includes prominent 'Log In' and 'Get Started' buttons styled with red accents. New users are encouraged to create an account using Clerk Auth, which provides a simple and secure sign-up process through an email address or social login, if available. For users who have forgotten their passwords, a straightforward password recovery option is provided as part of the Clerk Auth flow. The entire registration process is designed to be seamless so that when a user signs up, they are automatically redirected to the next steps of the application without any unnecessary delays.

## Main Dashboard or Home Page
Immediately after logging in, users are presented with the home page that serves as the central hub for the entire application. At the top of the home page, there is a simple header with the 'tovector.ai' logo in red and navigation links that lead to various pages such as Examples, Pricing, FAQ, and Support. The primary feature on the home page is the image uploader, styled as a drag-and-drop interface that supports PNG and JPG file uploads up to 35MB. The home page also includes a feedback block and a section titled 'Ready to transform your images?' which encourages new users to engage with the image vectorization process. From the dashboard, users can easily navigate to other areas of the site, including the detailed image conversion workflow and the admin analytics dashboard if they have access.

## Detailed Feature Flows and Page Transitions
The user journey begins on the Home page where users can upload an image using the drag-and-drop interface or by clicking to select a file. Upon selecting a valid PNG or JPG file and passing the necessary validations for file type, size, and a single file upload, the image is uploaded to Supabase Storage and its metadata is recorded. Immediately following the upload, the user is automatically redirected to the Editor Popup page with a unique URL that includes the image identifier.

On the Editor Popup page, the uploaded image is displayed prominently on a white background with a minimalistic menu bar that includes a dismissible red 'X' button. The content of this popup differs based on the userâ€™s authentication state. For users who are not logged in, a single prominent button labeled 'Sign Up and Get 1 Free Preview' is shown, prompting them to register. For signed-in users, two distinct actions are offered: one to initiate a low-cost preview that uses 0.2 credits and another to perform the full vectorization, costing 1 credit. Behind the scenes, validations check that the image exists in Supabase, that it has not expired according to the 30-day retention policy, and that the user is authorized to access it.

If a logged-in user opts for the preview option, they are redirected to the Preview page. On this page the uploaded image is re-displayed as a placeholder preview and an obvious 'Vectorize (1 credit)' button is provided below the image. Prior to processing, the system checks that the user has at least 0.2 credits in their account. If the balance is sufficient, the necessary credits are deducted and the action is logged for analytics purposes. The preview functionality is designed to offer a glimpse of the anticipated result before proceeding to full vectorization.

When the user chooses to proceed with vectorization by clicking on the provided button, they are taken to the Vectorize page. Here, the vectorized result of the image is presented as a placeholder for the final conversion result. Below the full-screen image, a dropdown menu allows the user to select their preferred download format such as SVG, PDF, EPS, DXF, or PNG. A clearly styled 'Download' button accompanies the dropdown. The system verifies that the user has enough credits (1 credit required) before deducting the credit and generating a temporary signed URL from Supabase Storage for secure download. The user can download the file in their chosen format, and if needed, can repeat the action to download in other formats as the popup remains open until they choose to dismiss it.

In scenarios where users do not have sufficient credits, the system directs them to the Pricing page. On this page, various credit packages (for example, 10, 25, or 50 credits) are displayed along with one-time purchase options styled with a red background and clearly visible pricing details. Before redirecting to Stripe Checkout, users must complete a pre-checkout form that collects optional billing details including Company Name, VAT Address, and VAT Number. The system dynamically calculates the price breakdown, applying VAT where applicable or offering VAT exemptions when a valid VAT number is provided. After the purchase, the user is directed to a custom confirmation page that summarizes the purchase, and their credit balance is updated in Supabase accordingly. For both new and returning users, the system ensures session persistence by saving the current state in Supabase, allowing users to resume their workflow seamlessly.

For administrators, a real-time sales analytics dashboard is available. This dashboard presents key metrics such as total vectorizations, credit usage trends distinguished between previews and full vectorizations, revenue figures broken down by credit package, and download format preferences. The dashboard uses an intuitive grid layout with line charts, bar charts, area charts, funnel charts, and pie charts to facilitate easy interpretation of the data. Advanced filtering options allow administrators to drill down by date range, action type, and user role. In addition, detailed reports can be exported in multiple formats including CSV, PDF, XLSX, and JSON to support varied reporting needs.

## Settings and Account Management
Users have access to a dedicated profile section where they can manage their account and personal details. This section enables users to update their email, password, and personal information, as well as track their credit balance and view usage logs. There are clearly defined options to adjust preferences, such as notification settings and data access. The billing and subscription information including recent credit purchases and VAT details can be reviewed and managed here. After making any changes, users can easily return to the main application flow with a consistent navigation experience available from the header.

## Error States and Alternate Paths
Throughout the application, error states are designed to be informative and easy to understand. If a user attempts to upload an image that is of an unsupported file type or exceeds the file size limit of 35MB, a clear error message is displayed on the Home page with a red border and concise text indicating the issue. If a user chooses multiple images when only one is allowed, the system immediately prompts an error message explaining that only a single image can be uploaded at a time. At every stage after upload, if the image is not found, user access fails validation, or if the image has expired, a friendly error message informs the user that the image is not available and they are redirected back to the Home page. Similarly, if a user does not possess sufficient credits to perform a preview or vectorization, a modal is shown that explains the credit deficiency and provides a direct link to the Pricing page for purchasing additional credits. In cases of unexpected failures, such as network issues or API errors during vectorization, appropriate error messages are presented and credits are refunded where necessary. The system is built to provide clear feedback at each step, ensuring that the user can resolve issues and return to a normal flow with ease.

## Conclusion and Overall App Journey
The overall journey on tovector.ai is created to be intuitive and seamless, starting from the initial discovery of the application on the Home page. New users are encouraged to register through a straightforward sign-up process using Clerk Auth, with clear options for password recovery. Once authenticated, users can immediately upload an image using a clean drag-and-drop uploader that validates file type, size, and other criteria. The uploaded image then flows effortlessly into the Editor Popup, where depending on the authentication state, users are prompted to either sign up or proceed with low-cost operations. From the Editor Popup, a two-step process takes users first to a Preview page to get an idea of the conversion and then to the Vectorize page where the final vectorized image is displayed and available for download in a variety of formats. In situations requiring additional credits, users are guided to the Pricing page and, through a detailed pre-checkout form and Stripe integration, can secure one-time credit purchases that update their account balance immediately. For administrators, additional tools such as a comprehensive analytics dashboard enable them to monitor platform usage, revenue generation, and user interaction trends. Throughout the process, clear error handling and session persistence ensure that users have a consistent experience, making it easy for them to convert images into scalable vectors and boost their design and printing business operations.